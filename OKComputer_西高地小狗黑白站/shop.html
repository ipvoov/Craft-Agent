<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘¨è¾¹å•†åŸ - è¥¿é«˜åœ°å°ç‹—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: #FFFFFF;
            color: #000000;
        }
        .hero-title {
            font-family: 'Noto Serif SC', serif;
            font-weight: 700;
        }
        .text-gradient {
            background: linear-gradient(45deg, #000000, #808080, #000000);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease-in-out infinite;
        }
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .product-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .product-card:hover {
            transform: translateY(-8px) rotateX(5deg);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            border-left: 1px solid #ddd;
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }
        .cart-sidebar.open {
            right: 0;
        }
        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }
        .cart-overlay.show {
            display: block;
        }
        .checkout-form {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 24px;
            margin-top: 24px;
        }
        .charity-section {
            background: linear-gradient(135deg, #D4AF37, #B8860B);
            color: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        .floating-item {
            position: absolute;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        .quantity-control {
            display: flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: 6px;
            overflow: hidden;
        }
        .quantity-btn {
            background: #f5f5f5;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .quantity-btn:hover {
            background: #e0e0e0;
        }
        .quantity-input {
            border: none;
            text-align: center;
            width: 60px;
            padding: 8px;
        }
    </style>
</head>
<body>
    <!-- æµ®åŠ¨è£…é¥°å…ƒç´  -->
    <div class="floating-elements">
        <div class="floating-item" style="top: 10%; left: 10%; font-size: 60px;">ğŸ•</div>
        <div class="floating-item" style="top: 20%; right: 15%; font-size: 40px; animation-delay: -2s;">ğŸ¦´</div>
        <div class="floating-item" style="top: 60%; left: 5%; font-size: 50px; animation-delay: -4s;">â¤ï¸</div>
        <div class="floating-item" style="top: 80%; right: 10%; font-size: 45px; animation-delay: -1s;">ğŸ </div>
        <div class="floating-item" style="top: 40%; left: 80%; font-size: 35px; animation-delay: -3s;">ğŸ¾</div>
    </div>

    <!-- å¯¼èˆªæ  -->
    <nav class="fixed top-0 w-full bg-white/95 backdrop-blur-sm z-50 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <h1 class="text-xl font-bold text-gradient">è¥¿é«˜åœ°å°ç‹—</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="index.html" class="text-gray-600 hover:text-black px-3 py-2 text-sm font-medium hover:border-b-2 hover:border-gray-300">é¦–é¡µ</a>
                        <a href="calendar.html" class="text-gray-600 hover:text-black px-3 py-2 text-sm font-medium hover:border-b-2 hover:border-gray-300">AIå†™çœŸæ—¥å†</a>
                        <a href="care.html" class="text-gray-600 hover:text-black px-3 py-2 text-sm font-medium hover:border-b-2 hover:border-gray-300">å·æ¯›å®éªŒå®¤</a>
                        <a href="shop.html" class="text-black hover:text-gray-600 px-3 py-2 text-sm font-medium border-b-2 border-black">å‘¨è¾¹å•†åŸ</a>
                    </div>
                </div>
                <div class="flex items-center">
                    <button id="cart-toggle" class="relative p-2 text-gray-600 hover:text-black">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9m-9 0V19a2 2 0 002 2h7a2 2 0 002-2v-4"></path>
                        </svg>
                        <span id="cart-count" class="absolute -top-1 -right-1 bg-black text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- è´­ç‰©è½¦ä¾§è¾¹æ  -->
    <div class="cart-overlay" id="cart-overlay"></div>
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="p-6 border-b border-gray-200">
            <div class="flex justify-between items-center">
                <h2 class="text-xl font-bold">è´­ç‰©è½¦</h2>
                <button id="cart-close" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="flex-1 p-6">
            <div id="cart-items" class="space-y-4">
                <!-- è´­ç‰©è½¦é¡¹ç›®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <div class="mt-6 pt-6 border-t border-gray-200">
                <div class="flex justify-between items-center mb-4">
                    <span class="font-medium">å•†å“æ€»è®¡ï¼š</span>
                    <span id="cart-total" class="text-xl font-bold">Â¥0</span>
                </div>
                
                <!-- å…¬ç›Šæ¨¡å— -->
                <div class="charity-section">
                    <div class="flex items-center mb-3">
                        <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                        <h3 class="font-bold">çˆ±å¿ƒå…¬ç›Š</h3>
                    </div>
                    <p class="text-sm mb-2">æ¯å”®å‡º1ä»¶å•†å“ï¼Œæˆ‘ä»¬å°†æèµ 10å…ƒç»™æµæµªå°ç‹—æ•‘åŠ©</p>
                    <div class="flex justify-between">
                        <span>æœ¬æ¬¡æèµ ï¼š</span>
                        <span id="donation-amount" class="font-bold">Â¥0</span>
                    </div>
                </div>
                
                <button id="checkout-btn" class="w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium mt-6">
                    ç«‹å³ç»“è´¦
                </button>
            </div>
        </div>
    </div>

    <!-- é¡µé¢æ ‡é¢˜ -->
    <section class="pt-24 pb-12 bg-gradient-to-br from-gray-50 to-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="hero-title text-4xl md:text-6xl mb-6 text-gradient">å‘¨è¾¹å•†åŸ</h1>
            <p class="text-xl text-gray-600 mb-8">ç²¾é€‰è¥¿é«˜åœ°ä¸»é¢˜å•†å“ï¼Œæ¯å”®å‡º1ä»¶æèµ 10å…ƒç»™æµæµªå°ç‹—æ•‘åŠ©</p>
        </div>
    </section>

    <!-- å•†å“å±•ç¤ºåŒºåŸŸ -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-12 text-center">
                <h2 class="text-3xl font-bold mb-4 text-gradient">ç²¾é€‰å•†å“</h2>
                <p class="text-gray-600">æ¯ä¸€ä»¶å•†å“éƒ½æ‰¿è½½ç€å¯¹è¥¿é«˜åœ°å°ç‹—çš„æ·±æ·±çˆ±æ„</p>
            </div>
            
            <div id="products-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- å•†å“å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </section>

    <!-- ç»“è´¦é¡µé¢ -->
    <div id="checkout-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto">
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">è®¢å•ç¡®è®¤</h2>
                    <button id="checkout-close" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <!-- è®¢å•æ‘˜è¦ -->
                <div class="mb-6">
                    <h3 class="text-lg font-bold mb-4">è®¢å•æ‘˜è¦</h3>
                    <div id="order-summary" class="space-y-3">
                        <!-- è®¢å•é¡¹ç›®å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
                    </div>
                </div>
                
                <!-- é…é€ä¿¡æ¯ -->
                <div class="checkout-form">
                    <h3 class="text-lg font-bold mb-4">é…é€ä¿¡æ¯</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">å§“å</label>
                            <input type="text" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="è¯·è¾“å…¥å§“å">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">æ‰‹æœºå·</label>
                            <input type="tel" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="è¯·è¾“å…¥æ‰‹æœºå·">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium mb-2">æ”¶è´§åœ°å€</label>
                            <textarea class="w-full p-3 border border-gray-300 rounded-lg" rows="3" placeholder="è¯·è¾“å…¥è¯¦ç»†æ”¶è´§åœ°å€"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- å…¬ç›Šä¿¡æ¯ -->
                <div class="charity-section">
                    <div class="flex items-center mb-3">
                        <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                        <h3 class="font-bold">æ‚¨çš„çˆ±å¿ƒè´¡çŒ®</h3>
                    </div>
                    <p class="text-sm mb-2">æ„Ÿè°¢æ‚¨çš„è´­ä¹°ï¼æ‚¨çš„è®¢å•å°†ä¸ºæµæµªå°ç‹—æ•‘åŠ©è´¡çŒ®ï¼š</p>
                    <div class="text-2xl font-bold" id="final-donation">Â¥0</div>
                </div>
                
                <div class="flex gap-4 mt-6">
                    <button id="cancel-order" class="flex-1 border-2 border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors">
                        å–æ¶ˆè®¢å•
                    </button>
                    <button id="confirm-order" class="flex-1 bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors">
                        ç¡®è®¤æ”¯ä»˜
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- å“ç‰Œæ•…äº‹ -->
    <section class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-4xl font-bold mb-6 text-gradient">å“ç‰Œæ•…äº‹</h2>
                    <p class="text-lg text-gray-600 mb-6">
                        æˆ‘ä»¬æ˜¯ä¸€ç¾¤çƒ­çˆ±è¥¿é«˜åœ°å°ç‹—çš„ä¼™ä¼´ï¼Œå¸Œæœ›é€šè¿‡ç²¾ç¾çš„å‘¨è¾¹äº§å“ï¼Œ
                        è®©æ›´å¤šäººäº†è§£å’Œå–œçˆ±è¿™ä¸ªå¯çˆ±çš„çŠ¬ç§ã€‚
                    </p>
                    <p class="text-lg text-gray-600 mb-6">
                        æ¯ä¸€ä»¶å•†å“éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œä¸ä»…è¦å±•ç°è¥¿é«˜åœ°çš„å¯çˆ±ä¸ä¼˜é›…ï¼Œ
                        æ›´è¦ä¼ é€’æˆ‘ä»¬å¯¹è¿™äº›å°ç”Ÿå‘½çš„æ·±æ·±çˆ±æ„ã€‚
                    </p>
                    <p class="text-lg text-gray-600">
                        æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬æ‰¿è¯ºå°†éƒ¨åˆ†æ”¶ç›Šç”¨äºæµæµªå°ç‹—æ•‘åŠ©ï¼Œ
                        è®©æ¯ä¸€ä¸ªå°ç”Ÿå‘½éƒ½èƒ½å¾—åˆ°æ¸©æš–å’Œå…³çˆ±ã€‚
                    </p>
                </div>
                <div class="text-center">
                    <div class="inline-block p-8 bg-white rounded-full shadow-lg">
                        <div class="text-8xl">ğŸ•</div>
                    </div>
                    <div class="mt-8 grid grid-cols-3 gap-4 text-center">
                        <div>
                            <div class="text-3xl font-bold text-gradient">1000+</div>
                            <div class="text-gray-600">æ»¡æ„å®¢æˆ·</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold text-gradient">5000+</div>
                            <div class="text-gray-600">å•†å“é”€é‡</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold text-gradient">Â¥50000+</div>
                            <div class="text-gray-600">å…¬ç›Šæèµ </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- é¡µè„š -->
    <footer class="bg-black text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h3 class="text-2xl font-bold mb-4 text-gradient-white">è¥¿é«˜åœ°å°ç‹—</h3>
                <p class="text-gray-400 mb-6">ä¸“ä¸š Â· çˆ±å¿ƒ Â· å“è´¨</p>
                <div class="border-t border-gray-800 pt-6">
                    <p class="text-gray-500 text-sm">&copy; 2024 è¥¿é«˜åœ°å°ç‹—. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // æ‰©å±•çš„å•†å“æ•°æ®
        const extendedProducts = [
            {
                id: 1,
                name: 'è¥¿é«˜åœ°å¤´åƒå«è¡£',
                price: 199,
                originalPrice: 299,
                image: 'resources/hoodie-1.png',
                description: 'é«˜å“è´¨çº¯æ£‰å«è¡£ï¼Œç²¾ç¾è¥¿é«˜åœ°å¤´åƒå°èŠ±ï¼Œèˆ’é€‚é€æ°”ï¼Œæ—¶å°šç™¾æ­',
                features: ['100%çº¯æ£‰æè´¨', 'ç¯ä¿å°èŠ±å·¥è‰º', 'èˆ’é€‚ç‰ˆå‹è®¾è®¡', 'å¤šè‰²å¯é€‰'],
                category: 'æœè£…',
                tag: 'çƒ­é”€'
            },
            {
                id: 2,
                name: 'é™é‡é“¶ç®”æµ·æŠ¥',
                price: 89,
                originalPrice: 129,
                image: 'resources/poster-silver-1.png',
                description: 'è‰ºæœ¯çº§é“¶ç®”æµ·æŠ¥ï¼Œä¸“ä¸šæ‘„å½±å“è´¨ï¼Œé€‚åˆå®¶å±…è£…é¥°å’Œæ”¶è—',
                features: ['è‰ºæœ¯çº§é“¶ç®”å·¥è‰º', 'é«˜æ¸…æ‘„å½±ç”»è´¨', 'é˜²æ°´é˜²æ½®å¤„ç†', 'ç²¾ç¾åŒ…è£…'],
                category: 'è£…é¥°å“',
                tag: 'é™é‡'
            },
            {
                id: 3,
                name: 'è¥¿é«˜åœ°æ‘„å½±é›†',
                price: 299,
                originalPrice: 399,
                image: 'resources/calendar-jan.png',
                description: 'ç²¾é€‰è¥¿é«˜åœ°æ‘„å½±ä½œå“åˆé›†ï¼Œè®°å½•æ¯ä¸€ä¸ªç¾å¥½ç¬é—´',
                features: ['é«˜æ¸…æ‘„å½±ä½œå“', 'ä¼˜è´¨çº¸å¼ å°åˆ·', 'ç²¾è£…ç¡¬å£³è®¾è®¡', 'æ”¶è—ä»·å€¼é«˜'],
                category: 'å›¾ä¹¦',
                tag: 'æ–°å“'
            },
            {
                id: 4,
                name: 'è¥¿é«˜åœ°ä¸»é¢˜Tæ¤',
                price: 129,
                originalPrice: 169,
                image: 'resources/calendar-feb.png',
                description: 'ç®€çº¦æ—¶å°šçš„è¥¿é«˜åœ°ä¸»é¢˜Tæ¤ï¼Œé€‚åˆæ—¥å¸¸ç©¿ç€',
                features: ['ä¼˜è´¨æ£‰è´¨é¢æ–™', 'ç®€çº¦è®¾è®¡é£æ ¼', 'å¤šå°ºç å¯é€‰', 'èˆ’é€‚é€æ°”'],
                category: 'æœè£…',
                tag: 'ç»å…¸'
            },
            {
                id: 5,
                name: 'è¥¿é«˜åœ°æŠ±æ•',
                price: 159,
                originalPrice: 199,
                image: 'resources/calendar-mar.png',
                description: 'å¯çˆ±çš„è¥¿é«˜åœ°é€ å‹æŠ±æ•ï¼ŒæŸ”è½¯èˆ’é€‚ï¼Œé™ªä¼´æ‚¨çš„ç¾å¥½æ—¶å…‰',
                features: ['è¶…æŸ”çŸ­æ¯›ç»’', 'å¡«å……é¥±æ»¡', 'å¯çˆ±é€ å‹è®¾è®¡', 'å¤šå°ºå¯¸å¯é€‰'],
                category: 'å®¶å±…',
                tag: 'æ¸©é¦¨'
            },
            {
                id: 6,
                name: 'è¥¿é«˜åœ°æ‰‹æœºå£³',
                price: 59,
                originalPrice: 79,
                image: 'resources/hoodie-1.png',
                description: 'ç²¾ç¾è¥¿é«˜åœ°å›¾æ¡ˆæ‰‹æœºå£³ï¼Œä¿æŠ¤æ‰‹æœºçš„åŒæ—¶å±•ç°ä¸ªæ€§',
                features: ['ç²¾å‡†å¼€å­”', 'é˜²æ‘”ä¿æŠ¤', 'é«˜æ¸…å›¾æ¡ˆ', 'å¤šå‹å·é€‚é…'],
                category: 'é…ä»¶',
                tag: 'å®ç”¨'
            }
        ];

        // åˆå§‹åŒ–å•†åŸç³»ç»Ÿ
        document.addEventListener('DOMContentLoaded', function() {
            initShopSystem();
            initCartSystem();
            initFloatingAnimation();
        });

        function initShopSystem() {
            displayProducts(extendedProducts);
        }

        function displayProducts(products) {
            const container = document.getElementById('products-grid');
            if (!container) return;

            container.innerHTML = products.map(product => `
                <div class="product-card bg-white border border-gray-200 rounded-lg overflow-hidden shadow-lg">
                    <div class="relative">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-64 object-cover">
                        ${product.tag ? `<span class="absolute top-4 left-4 bg-black text-white px-3 py-1 rounded-full text-sm">${product.tag}</span>` : ''}
                        ${product.originalPrice > product.price ? `<span class="absolute top-4 right-4 bg-red-500 text-white px-2 py-1 rounded text-sm">çœÂ¥${product.originalPrice - product.price}</span>` : ''}
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-gray-900">${product.name}</h3>
                            <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-sm">${product.category}</span>
                        </div>
                        <p class="text-gray-600 mb-4">${product.description}</p>
                        
                        <div class="mb-4">
                            <div class="flex items-center mb-2">
                                <span class="text-2xl font-bold text-black">Â¥${product.price}</span>
                                ${product.originalPrice > product.price ? `<span class="ml-2 text-gray-500 line-through">Â¥${product.originalPrice}</span>` : ''}
                            </div>
                            <div class="text-sm text-gray-500">
                                è´­ä¹°æ­¤å•†å“å°†æèµ  <span class="font-bold text-green-600">Â¥10</span> ç»™æµæµªå°ç‹—æ•‘åŠ©
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="font-medium mb-2">äº§å“ç‰¹è‰²ï¼š</h4>
                            <div class="flex flex-wrap gap-2">
                                ${product.features.map(feature => `<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-sm">${feature}</span>`).join('')}
                            </div>
                        </div>
                        
                        <button onclick="ShopCart.addToCart(${product.id})" 
                                class="w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium">
                            åŠ å…¥è´­ç‰©è½¦
                        </button>
                    </div>
                </div>
            `).join('');

            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            anime({
                targets: '.product-card',
                translateY: [50, 0],
                opacity: [0, 1],
                duration: 600,
                delay: anime.stagger(100),
                easing: 'easeOutQuad'
            });
        }

        function initCartSystem() {
            // è´­ç‰©è½¦ç›¸å…³äº‹ä»¶ç›‘å¬
            document.getElementById('cart-toggle').addEventListener('click', openCart);
            document.getElementById('cart-close').addEventListener('click', closeCart);
            document.getElementById('cart-overlay').addEventListener('click', closeCart);
            document.getElementById('checkout-btn').addEventListener('click', openCheckout);
            document.getElementById('checkout-close').addEventListener('click', closeCheckout);
            document.getElementById('cancel-order').addEventListener('click', closeCheckout);
            document.getElementById('confirm-order').addEventListener('click', confirmOrder);

            // åˆå§‹åŒ–è´­ç‰©è½¦æ˜¾ç¤º
            ShopCart.products = extendedProducts;
            ShopCart.init();
        }

        function openCart() {
            document.getElementById('cart-sidebar').classList.add('open');
            document.getElementById('cart-overlay').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeCart() {
            document.getElementById('cart-sidebar').classList.remove('open');
            document.getElementById('cart-overlay').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function openCheckout() {
            if (ShopCart.items.length === 0) {
                alert('è´­ç‰©è½¦ä¸ºç©ºï¼');
                return;
            }
            
            closeCart();
            generateOrderSummary();
            document.getElementById('checkout-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeCheckout() {
            document.getElementById('checkout-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function generateOrderSummary() {
            const container = document.getElementById('order-summary');
            const items = ShopCart.items;
            
            container.innerHTML = items.map(item => `
                <div class="flex justify-between items-center py-2">
                    <div class="flex items-center">
                        <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded mr-3">
                        <div>
                            <div class="font-medium">${item.name}</div>
                            <div class="text-sm text-gray-600">æ•°é‡: ${item.quantity}</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-medium">Â¥${item.price * item.quantity}</div>
                    </div>
                </div>
            `).join('');
            
            // æ›´æ–°æœ€ç»ˆæèµ é‡‘é¢
            document.getElementById('final-donation').textContent = `Â¥${ShopCart.getDonationAmount()}`;
        }

        function confirmOrder() {
            // æ¨¡æ‹Ÿæ”¯ä»˜æµç¨‹
            const total = ShopCart.getTotal();
            const donation = ShopCart.getDonationAmount();
            
            alert(`è®¢å•æäº¤æˆåŠŸï¼\n\nå•†å“æ€»è®¡ï¼šÂ¥${total}\nå…¬ç›Šæèµ ï¼šÂ¥${donation}\n\næ„Ÿè°¢æ‚¨çš„çˆ±å¿ƒæ”¯æŒï¼\n\nè®¢å•å·ï¼š${generateOrderNumber()}`);
            
            // æ¸…ç©ºè´­ç‰©è½¦
            ShopCart.items = [];
            ShopCart.saveCart();
            ShopCart.updateCartDisplay();
            
            closeCheckout();
        }

        function generateOrderNumber() {
            const timestamp = Date.now().toString();
            const random = Math.random().toString(36).substr(2, 6);
            return 'WD' + timestamp + random.toUpperCase();
        }

        function initFloatingAnimation() {
            // æµ®åŠ¨åŠ¨ç”»å·²åœ¨CSSä¸­å®šä¹‰
            // è¿™é‡Œå¯ä»¥æ·»åŠ æ›´å¤šåŠ¨æ€æ•ˆæœ
        }
    </script>
    <script src="main.js"></script>
</body>
</html>